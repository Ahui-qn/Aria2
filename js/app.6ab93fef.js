(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},s={app:0},a={app:0},i=[];function o(e){return c.p+"js/"+({Completed:"Completed",Deleted:"Deleted",TaskDetails:"TaskDetails",newTask:"newTask",setting:"setting"}[e]||e)+"."+{Completed:"0f1b6738",Deleted:"71eb2286",TaskDetails:"8966d117",newTask:"11ba2531",setting:"053d6b92"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={Completed:1,Deleted:1,TaskDetails:1,newTask:1,setting:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var r="css/"+({Completed:"Completed",Deleted:"Deleted",TaskDetails:"TaskDetails",newTask:"newTask",setting:"setting"}[e]||e)+"."+{Completed:"5385c7d3",Deleted:"ba3d8b6e",TaskDetails:"83be3222",newTask:"9b32d548",setting:"b5a16071"}[e]+".css",a=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===a))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===r||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete s[e],p.parentNode.removeChild(p),n(i)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){s[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0418":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header",{staticClass:"classify"},[n("span",[e._v("文件名")]),n("div",{staticClass:"container"},[n("div",{on:{click:function(t){return e.sizeSort(e.$route.path)}}},[n("span",[e._v("大小")]),n("i",{class:{"el-icon-caret-top":!0,active:1==e.sort}}),n("i",{class:{"el-icon-caret-bottom":!0,active:0==e.sort}})]),n("div",{on:{click:function(t){return e.progressSort(e.$route.path)}}},[n("span",[e._v("进度")]),n("i",{class:{"el-icon-caret-top":!0,active:1==e.sort}}),n("i",{class:{"el-icon-caret-bottom":!0,active:0==e.sort}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSpeed,expression:"isShowSpeed"}]},[n("span",[e._v("速度")])])])])])},s=[],a=n("5530"),i=n("2f62"),o={name:"Header",props:{isShowSpeed:{type:Boolean,required:!1,default:!0}},methods:Object(a["a"])({},Object(i["d"])(["sizeSort","progressSort"])),computed:Object(a["a"])({},Object(i["e"])(["sort"]))},c=o,l=(n("d574"),n("2877")),u=Object(l["a"])(c,r,s,!1,null,"98424b98",null);t["a"]=u.exports},"11a2":function(e,t,n){"use strict";n("65f8")},"150b":function(e,t,n){},"47c6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"el"},[r("el-menu",{staticClass:"outmost-menu",attrs:{"text-color":"#fff","active-text-color":"#ffd04b",router:!0,"default-active":e.currentPath()}},[r("img",{attrs:{src:n("cf05"),alt:""}}),r("el-menu-item",{staticClass:"frist",attrs:{index:"/"}},[r("i",{staticClass:"el-icon-download"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("正在下载")])]),r("el-menu-item",{attrs:{index:"/completed"}},[r("i",{staticClass:"el-icon-check"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("已完成")])]),r("el-menu-item",{attrs:{index:"/deleted"}},[r("i",{staticClass:"el-icon-close"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("已删除 / 废弃")])]),r("el-submenu",{attrs:{index:"/settings"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-setting"}),r("span",[e._v("设置")])]),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"/settings/basic"}},[e._v("基础设置")]),r("el-menu-item",{attrs:{index:"/settings/http"}},[e._v("HTTP设置")]),r("el-menu-item",{attrs:{index:"/settings/rpc"}},[e._v("RPC设置")]),r("el-menu-item",{attrs:{index:"/settings/advanced"}},[e._v("高级设置")])],1)],2),r("el-menu-item",{attrs:{index:"/server"}},[r("i",{staticClass:"el-icon-monitor"}),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("服务器 "),r("span",{class:{connectionStatus:!0,success:"已连接"==e.connectionStatus,falied:"未连接"==e.connectionStatus}},[e._v(" "+e._s(e.connectionStatus)+" ")])])])],1)],1),r("header",[r("nav",[r("div",{staticClass:"edit-status"},[r("router-link",{attrs:{to:"/new"}},[r("el-button",{staticClass:"new",attrs:{type:"primary",icon:"el-icon-circle-plus"}},[e._v("新建")])],1),r("el-button-group",[r("el-checkbox",{attrs:{value:e.switchSelection},on:{change:e.selectAll}}),e._v(" "),r("el-button",{attrs:{disabled:e.isDisabled,type:"primary",icon:"el-icon-video-play"},nativeOn:{click:function(t){return e.editStatus("unpause")}}}),e._v(" "),r("el-button",{attrs:{disabled:e.isDisabled,type:"primary",icon:"el-icon-video-pause"},nativeOn:{click:function(t){return e.editStatus("pause")}}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},nativeOn:{click:function(t){return e.removeTask()}}})],1),r("el-select",{attrs:{"value-key":"id",placeholder:"请选择服务器"},on:{change:function(t){return e.switchServer(e.selectedServer)}},model:{value:e.selectedServer,callback:function(t){e.selectedServer=t},expression:"selectedServer "}},[r("el-option-group",{attrs:{label:"选择服务器"}},e._l(e.servers,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name||e.host+":"+e.port,value:e}})})),1)],1),r("label",{staticClass:"search"},[r("input",{attrs:{type:"text"},on:{input:function(t){return e.editSeatch(t.target.value)}}}),r("span",[e._v("搜索")])])],1)]),r("router-view")],1)])},a=[],i=n("5530"),o=(n("ac1f"),n("2f62")),c={name:"App",data:function(){return{selectedServer:null}},created:function(){var e=JSON.parse(localStorage.getItem("aria2Servers"))||[];this.initServers(e),this.selectedServer=this.servers[0],this.switchServer(this.selectedServer)},computed:Object(i["a"])(Object(i["a"])({},Object(o["e"])(["tasks","search","selected","completeds","discard","servers","connectionStatus"])),{},{isDisabled:function(){var e=this.$route.path;return"/completed"==e||"/deleted"==e},switchSelection:function(){var e=this.$route.path;return"/completed"==e?this.selected.length==this.completeds.length&&(0!=this.selected.length||0!=this.completeds.length):"/deleted"==e?this.selected.length==this.discard.length&&(0!=this.selected.length||0!=this.discard.length):this.selected.length==this.tasks.length&&(0!=this.selected.length||0!=this.tasks.length)}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({removeTask:function(){var e=this.$route.path;"/completed"==e||"/deleted"==e?this.editStatus("removeDownloadResult"):this.editStatus("remove")}},Object(o["b"])(["editStatus","switchServer"])),Object(o["d"])(["selectAll","editSeatch","initServers"])),{},{currentPath:function(){return/\/\w*\/?/.exec(location.hash)[0]}})},l=c,u=(n("cf53"),n("2877")),d=Object(u["a"])(l,s,a,!1,null,null,null),p=d.exports,f=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"dowloading"}},[n("Header",{attrs:{isShowSpeed:!0}}),n("div",{staticClass:"taskContiner"},e._l(e.showSearch("tasks"),(function(t){return n("Tables",{key:t.gid,attrs:{filename:e.getLinkName(t),filesize:e.getFileSize(t),progress:e.getProgress(t),speed:e.getDownloadSpeed(t),selected:e.selected,task:t},nativeOn:{click:function(n){return e.selectedSwitch(t)}}})})),1)],1)},v=[],m=n("0418"),g=n("cfd0"),b={name:"downloading",data:function(){return{}},components:{Tables:g["a"],Header:m["a"]},mounted:function(){this.updateList()},watch:{aria2c:function(){clearInterval(this.IntervalDowloadingId),this.updateList()}},beforeDestroy:function(){clearInterval(this.IntervalDowloadingId),this.clearSeleted()},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["e"])(["selected","connectionStatus","aria2"])),Object(o["c"])(["showSearch","getLinkName","getProgress","getDownloadSpeed","getFileSize"])),{},{aria2c:function(){return this.aria2}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["b"])(["editStatus"])),Object(o["d"])(["selectedSwitch","selectAll","editUpdateList","handleSearchChange","clearSeleted"])),{},{updateList:function(){var e=this;this.$store.dispatch("updateList"),this.IntervalDowloadingId=setInterval((function(){e.$store.dispatch("updateList",e.IntervalDowloadingId)}),1e3)}})},S=b,w=(n("a70d"),Object(u["a"])(S,h,v,!1,null,"57614d34",null)),k=w.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"server"},[n("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.servers,(function(t){return n("el-tab-pane",{key:t.id,attrs:{label:t.name||t.host+":"+t.port,name:t.id}},[n("el-form",[n("el-form-item",{attrs:{label:"RPC别名","label-width":"80px"}},[n("el-input",{attrs:{value:t.name},on:{input:function(t){return e.editNewServer(t,"name")}}})],1),n("el-form-item",{attrs:{label:"HOST","label-width":"80px"}},[n("el-input",{attrs:{value:t.host},on:{input:function(t){return e.editNewServer(t,"host")}}})],1),n("el-form-item",{attrs:{label:"端口号","label-width":"80px"}},[n("el-input-number",{attrs:{value:t.port,min:1,max:65535},on:{change:function(t){return e.editNewServer(t,"port")}}})],1),n("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[n("el-input",{attrs:{type:"password","show-password":"",value:t.secret},on:{input:function(t){return e.editNewServer(t,"secret")}}})],1)],1),n("el-button",{attrs:{size:"small"},on:{click:function(t){return e.addTab(e.editableTabsValue)}}},[e._v(" 添加新的服务器 ")])],1)})),1)],1)},y=[],x=(n("a9e3"),n("8f40"),n("acef"),n("159b"),{data:function(){return{editableTabsValue:"1",newServer:{name:"",host:"127.0.0.1",port:6800,secret:"",id:""},tabIndex:1}},computed:Object(i["a"])({},Object(o["e"])(["servers"])),mounted:function(){this.tabIndex=Number(JSON.parse(localStorage.getItem("aria2Servers")).at(-1).id)},methods:Object(i["a"])(Object(i["a"])({},Object(o["d"])(["initServers","addServers","removeServers","editServer"])),{},{editNewServer:function(e,t){this.editServer({value:e,type:t,currentServerId:this.editableTabsValue})},addTab:function(e){var t={};Object.assign(t,this.newServer);var n=++this.tabIndex+"";t.id=n,this.addServers(t),this.editableTabsValue=n},removeTab:function(e){var t=this;this.$confirm("确定要删除此服务器吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=t.servers,r=t.editableTabsValue;r===e&&n.forEach((function(t,s){if(t.id===e){var a=n[s+1]||n[s-1];a&&(r=a.id)}})),t.editableTabsValue=r,t.removeServers({tabs:n,targetId:e}),t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}})}),C=x,j=(n("822d"),Object(u["a"])(C,O,y,!1,null,"ea7ff1c2",null)),_=j.exports;r["default"].use(f["a"]);var T=[{path:"/",name:"Downloading",component:k},{path:"/completed",name:"Completed",component:function(){return n.e("Completed").then(n.bind(null,"cc90"))}},{path:"/deleted",name:"Deleted",component:function(){return n.e("Deleted").then(n.bind(null,"ed36"))}},{path:"/new",name:"new",component:function(){return n.e("newTask").then(n.bind(null,"10df"))}},{path:"/task/:gid",name:"TaskDetails",component:function(){return n.e("TaskDetails").then(n.bind(null,"c91d"))}},{path:"/settings/:type",component:function(){return n.e("setting").then(n.bind(null,"4ef5"))}},{path:"/server",component:_}],L=new f["a"]({routes:T}),N=L,D=n("b85c"),E=n("2909"),I=n("1da1"),P=(n("96cf"),n("a434"),n("99af"),n("841c"),n("4de4"),n("caad"),n("2532"),n("b680"),n("b0c0"),n("1276"),n("4e82"),n("d4ec")),R=n("bee2"),A=function(){function e(t){var n=this;Object(P["a"])(this,e),this.options=t,this.ws=new WebSocket("ws://".concat(t.host,":").concat(t.port,"/jsonrpc")),this.lastId=1,this.callbacks={},this.connectPromise=new Promise((function(e,t){n.ws.addEventListener("open",(function(){e()})),n.ws.addEventListener("error",(function(e){t("WS_CONNECTION_ERROR")}))})),this.ws.addEventListener("close",(function(e){console.log(e)})),this.ws.addEventListener("message",(function(e){var t=JSON.parse(e.data),r=n.callbacks[t.id];delete n.callbacks[t.id],"function"==typeof r&&r(t)}))}return Object(R["a"])(e,[{key:"ready",value:function(){return this.connectPromise}},{key:"close",value:function(){return this.ws.close()}}]),e}();["addUri","addTorrent","getPeers","addMetalink","remove","pause","forcePause","pauseAll","forcePauseAll","unpause","unpauseAll","forceRemove","changePosition","tellStatus","getUris","getFiles","getServers","tellActive","tellWaiting","tellStopped","getOption","changeUri","changeOption","getGlobalOption","changeGlobalOption","purgeDownloadResult","removeDownloadResult","getVersion","getSessionInfo","shutdown","forceShutdown","getGlobalStat","saveSession"].forEach((function(e){A.prototype[e]=function(){for(var t=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.connectPromise.then((function(){return new Promise((function(n,s){var a=t.lastId++;t.callbacks[a]=function(e){e.error?s(e.error):n(e.result)},t.ws.readyState===WebSocket.OPEN?t.ws.send(JSON.stringify({jsonrpc:"2.0",id:a,method:"aria2."+e,params:["token:".concat(t.options.secret)].concat(r)})):s("WS_CONNECTION_ERROR")}))}))}}));var B=A,z=n("5c96"),$=n.n(z);function M(e,t,n){if(e.length<=1)return e;for(var r=Math.floor(e.length/2),s=e.splice(r,1)[0],a=[],i=[],o=0;o<e.length;o++)"size"==n&&(1==t?Number(e[o].totalLength)<Number(s.totalLength)?a.push(e[o]):i.push(e[o]):Number(e[o].totalLength)>Number(s.totalLength)?a.push(e[o]):i.push(e[o])),"progress"==n&&(1==t?Number(e[o].completedLength)<Number(s.completedLength)?a.push(e[o]):i.push(e[o]):Number(e[o].completedLength)>Number(s.completedLength)?a.push(e[o]):i.push(e[o]));return M(a,t,n).concat([s],M(i,t,n))}r["default"].use(o["a"]);var F=new o["a"].Store({state:{tasks:[],selected:[],search:"",completeds:[],discard:[],sort:!1,currentSort:"",servers:[],connectionStatus:"",aria2:null},getters:{showSearch:function(e){return function(t){return""==e.search?e[t]:e[t].filter((function(t){return t.files[0].path.toLowerCase().includes(e.search.toLowerCase())}))}},getFileSize:function(e){return function(e){return e.length?e.length<1024?e.length+"B":e.length>1024&&e.length<1048576?(e.length/1024).toFixed(2)+"KB":e.length>1048576&&e.length<1073741824?(e.length/1024/1024).toFixed(2)+"MB":(e.length/1024/1024/1024).toFixed(2)+"GB":e.totalLength<1024?e.totalLength+"B":e.totalLength>1024&&e.totalLength<1048576?(e.totalLength/1024).toFixed(2)+"KB":e.totalLength>1048576&&e.totalLength<1073741824?(e.totalLength/1024/1024).toFixed(2)+"MB":(e.totalLength/1024/1024/1024).toFixed(2)+"GB"}},getDownloadSpeed:function(e){return function(e){return"paused"==e.status?"暂停中":"waiting"==e.status?"等待中":"0"==e.downloadSpeed?"0KB/s":e.downloadSpeed>=1048576?(e.downloadSpeed/1024/1024).toFixed(2)+"MB/s":(e.downloadSpeed/1024).toFixed(2)+"KB/s"}},getLinkName:function(e){return function(e){var t,n,r,s,a,i,o;return null!==(t=e.bittorrent)&&void 0!==t&&null!==(n=t.info)&&void 0!==n&&n.name?null===(s=e.bittorrent)||void 0===s?void 0:s.info.name:null!==(r=e.files)&&void 0!==r&&r[0].path?e.files[0].path.split("/").at(-1):null!==(a=null===(i=e.files)||void 0===i||null===(o=i[0].uris)||void 0===o?void 0:o[0].uri.split("/").at(-1))&&void 0!==a?a:"未知"}},getProgress:function(e){return function(e){return"0"==e.completedLength?0:Number((e.completedLength/e.totalLength*100).toFixed(1))}}},mutations:{removeServers:function(e,t){var n=t.tabs,r=t.targetId;e.servers=n.filter((function(e){return e.id!==r})),localStorage.setItem("aria2Servers",JSON.stringify(e.servers))},editServer:function(e,t){var n=t.type,r=t.value,s=t.currentServerId;e.servers.forEach((function(e){if(e.id==s)return e[n]=r})),localStorage.setItem("aria2Servers",JSON.stringify(e.servers))},addServers:function(e,t){e.servers.push(t),localStorage.setItem("aria2Servers",JSON.stringify(e.servers))},initServers:function(e,t){e.servers=t},sort:function(e,t){var n=t.currentPage,r=t.type;"/completed"==n?(e.completeds=M(e.completeds,e.sort,r),this.dispatch("getTellStopped")):"/deleted"==n?(e.discard=M(e.discard,e.sort,r),this.dispatch("getTellStopped")):(e.tasks=M(e.tasks,e.sort,r),this.dispatch("updateList")),e.sort=!e.sort},sizeSort:function(e,t){e.currentSort="size",this.commit("sort",{currentPage:t,type:"size"})},progressSort:function(e,t){e.currentSort="progress",this.commit("sort",{currentPage:t,type:"progress"})},clearSeleted:function(e){e.selected=[]},selectedSwitch:function(e,t){var n=e.selected.indexOf(t.gid);-1==n?e.selected.push(t.gid):e.selected.splice(n,1)},editSeatch:function(e,t){e.search=t},selectAll:function(e){"completed"==location.href.split("/").at(-1)?e.selected.length==e.completeds.length?e.selected=[]:(e.selected=[],e.completeds.forEach((function(t){e.selected.push(t.gid)}))):"deleted"==location.href.split("/").at(-1)?e.selected.length==e.discard.length?e.selected=[]:(e.selected=[],e.discard.forEach((function(t){e.selected.push(t.gid)}))):e.selected.length==e.tasks.length?e.selected=[]:(e.selected=[],e.tasks.forEach((function(t){e.selected.push(t.gid)})))},handleSearchChange:function(e,t){e.search=t.target.value},editUpdateList:function(e,t){"size"==e.currentSort?e.tasks=M(t,e.sort,"size"):e.tasks=M(t,e.sort,"progress")},editCompleteds:function(e,t){"size"==e.currentSort?e.completeds=M(t,e.sort,"size"):e.completeds=M(t,e.sort,"progress")},editDiscard:function(e,t){"size"==e.currentSort?e.discard=M(t,e.sort,"size"):e.discard=M(t,e.sort,"progress")},editAria2:function(e,t){e.aria2=t},editConnectionStatus:function(e,t){e.connectionStatus=t}},actions:{switchServer:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,s,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.state,a=e.commit,null===(r=s.aria2)||void 0===r||r.close(),i=new B(t),a("editAria2",i),a("editConnectionStatus","连接中"),n.prev=5,n.next=8,i.ready();case 8:return n.next=10,i.tellActive();case 10:a("editConnectionStatus","已连接"),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](5),a("editConnectionStatus","未连接");case 16:case"end":return n.stop()}}),n,null,[[5,13]])})))()},updateList:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,s=e.commit,a=[],n.prev=2,n.t0=[],n.t1=E["a"],n.next=7,r.aria2.tellActive();case 7:return n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t4=E["a"],n.next=12,r.aria2.tellWaiting(0,100);case 12:n.t5=n.sent,n.t6=(0,n.t4)(n.t5),a=n.t0.concat.call(n.t0,n.t3,n.t6),n.next=26;break;case 17:if(n.prev=17,n.t7=n["catch"](2),clearInterval(t),"WS_CONNECTION_ERROR"!=n.t7){n.next=25;break}Object(z["Message"])({message:"WebSocket未连接！ 请检查aria2是否启动或刷新页面",type:"error",duration:1e4}),s("editConnectionStatus","未连接"),n.next=26;break;case 25:throw n.t7;case 26:s("editUpdateList",a);case 27:case"end":return n.stop()}}),n,null,[[2,17]])})))()},getTellStopped:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var r,s,a,i,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,a=[],i=[],o=[],n.prev=4,n.t0=E["a"],n.next=8,s.aria2.tellStopped(0,1e3);case 8:n.t1=n.sent,o=(0,n.t0)(n.t1),n.next=21;break;case 12:if(n.prev=12,n.t2=n["catch"](4),clearInterval(t),"WS_CONNECTION_ERROR"!=n.t2){n.next=20;break}Object(z["Message"])({message:"WebSocket未连接！ 请检查aria2是否启动或刷新页面",type:"error",duration:1e4}),r("editConnectionStatus","未连接"),n.next=21;break;case 20:throw n.t2;case 21:c=Object(D["a"])(o);try{for(c.s();!(l=c.n()).done;)u=l.value,"complete"==u.status?a.push(u):i.push(u)}catch(d){c.e(d)}finally{c.f()}r("editCompleteds",a),r("editDiscard",i);case 25:case"end":return n.stop()}}),n,null,[[4,12]])})))()},editStatus:function(e,t){var n=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,a,i,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.state,"remove"!=t&&"removeDownloadResult"!=t){r.next=4;break}return r.next=4,z["MessageBox"].confirm("如果文件处于暂停状态删除将无法找回, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(z["Message"])({type:"success",message:"删除成功!",duration:500})})).catch((function(){Object(z["Message"])({type:"info",message:"已取消删除",duration:500})}));case 4:a="deleted"==location.href.split("/").at(-1)?s.discard.filter((function(e){return s.selected.includes(e.gid)})):"completed"==location.href.split("/").at(-1)?s.completeds.filter((function(e){return s.selected.includes(e.gid)})):s.tasks.filter((function(e){return s.selected.includes(e.gid)})),r.prev=5,i=Object(D["a"])(a),r.prev=7,i.s();case 9:if((o=i.n()).done){r.next=19;break}if(c=o.value,"active"!=c.status||"unpause"!=t){r.next=13;break}return r.abrupt("continue",17);case 13:if("pause"!=c.status||"pause"!=t){r.next=15;break}return r.abrupt("continue",17);case 15:return r.next=17,s.aria2[t](c.gid);case 17:r.next=9;break;case 19:r.next=24;break;case 21:r.prev=21,r.t0=r["catch"](7),i.e(r.t0);case 24:return r.prev=24,i.f(),r.finish(24);case 27:r.next=32;break;case 29:r.prev=29,r.t1=r["catch"](5),Object(z["Message"])({message:"暂停成功",type:"success",duration:500});case 32:n.dispatch("updateList");case 33:case"end":return r.stop()}}),r,null,[[5,29],[7,21,24,27]])})))()}},modules:{}});n("0fae"),n("150b");r["default"].use($.a),r["default"].config.productionTip=!1,r["default"].prototype.myWindow=window,window.aria3=new B({host:"localhost",port:6800,secret:"123456"}),new r["default"]({router:N,store:F,render:function(e){return e(p)}}).$mount("#app")},"65f8":function(e,t,n){},"66bd":function(e,t,n){},7040:function(e,t,n){},"822d":function(e,t,n){"use strict";n("7040")},a70d:function(e,t,n){"use strict";n("b829")},b829:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},cf53:function(e,t,n){"use strict";n("47c6")},cfd0:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"downloading"},[n("div",{staticClass:"task"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.selected.includes(e.task.gid)}}),e._v(" "),n("span",{staticClass:"filename"},[e._v(e._s(e.filename))]),n("span",{staticClass:"filesize"},[e._v(e._s(e.filesize))]),e.isShowSpeed?n("span",{class:e.transfromClass},[e._v(e._s(e.speed))]):e._e(),n("router-link",{staticClass:"filedetails",attrs:{to:{name:"TaskDetails",params:{gid:e.task.gid}}}},[e._v("详情")]),n("el-progress",{attrs:{percentage:e.progress}})],1)])},s=[],a=(n("a9e3"),{name:"Tables",a:1,props:{isShowSpeed:{type:Boolean,required:!1,default:!0},speed:{type:String,required:!1},task:{type:Object,required:!0},progress:{type:Number,required:!1},filename:{type:String,required:!0},filesize:{type:String,required:!0},selected:{type:Array,required:!0}},computed:{transfromClass:function(){return"paused"==this.task.status?"filespeed":"active"==this.task.status?"file-active":"file-waiting"}}}),i=a,o=(n("11a2"),n("2877")),c=Object(o["a"])(i,r,s,!1,null,"c0ee5658",null);t["a"]=c.exports},d574:function(e,t,n){"use strict";n("66bd")}});
//# sourceMappingURL=app.6ab93fef.js.map